{% extends 'CFAHubSharedBundle:Shared:layout.html.twig' %}

{% block page_title %}
    Marketing
{% endblock %}

{% block breadcrumb %}
    <div class="cfa-breadcrumb">
        <a href="{{ path('cfa_hub_marketing_index') }}">
            Marketing
        </a>
        &raquo;
        Customers
    </div>
{% endblock %}

{% block content %}
    <div class="col-sm-12">
        <div class="panel panel-cfa">
            <div class="panel-heading">
                <div class="pull-right">
                    <a href="{{ path('cfa_hub_marketing_customer_add') }}" class="btn btn-sm btn-default">
                        {{ icon('plus') }}
                    </a>
                </div>
                Customers
            </div>
            <div class="panel-body">
                <ul class="nav nav-tabs">
                    <li class="active">
                        <a href="#people" data-toggle="tab">People</a>
                    </li>
                    <li>
                        <a href="#company" data-toggle="tab">Companies</a>
                    </li>
                </ul>
                <br>
                <div class="tab-content">
                    <div id="people" class="tab-pane active">
                        <table class="table table-striped table-bordered table-hover pointer">
                            <thead>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Email</th>
                                <th>Phone</th>
                            </thead>
                            {% for customer in person_customers %}
                                <tr class="js-row-click" data-url="{{ path('cfa_hub_marketing_customer_show', {'customer': customer.id}) }}">
                                    <td>{{ customer.firstName }}</td>
                                    <td>{{ customer.lastName }}</td>
                                    <td>{{ customer.email }}</td>
                                    <td>{{ customer.phone }}</td>
                                </tr>
                            {% else %}
                                <tr>
                                    <td colspan="4">{{ icon('ban') }} None</td>
                                </tr>
                            {% endfor %}
                        </table>
                    </div>

                    {# companies #}
                    <div id="company" class="tab-pane">
                        <table class="table table-striped table-bordered table-hover pointer">
                            <thead>
                                <th>Company</th>
                                <th>First Name</th>
                                <th>Last Name</th>
                                <th>Email</th>
                                <th>Phone</th>
                            </thead>
                            {% for customer in company_customers %}
                                <tr class="js-row-click" data-url="{{ path('cfa_hub_marketing_customer_show', {'customer': customer.id}) }}">
                                    <td>{{ customer.companyName }}</td>
                                    <td>{{ customer.firstName }}</td>
                                    <td>{{ customer.lastName }}</td>
                                    <td>{{ customer.email }}</td>
                                    <td>{{ customer.phone }}</td>
                                </tr>
                            {% else %}
                                <tr>
                                    <td colspan="5">{{ icon('ban') }} None</td>
                                </tr>
                            {% endfor %}
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endblock %}

